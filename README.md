This is a major refactoring of the original newspipe code with a view towards modernizing it.
